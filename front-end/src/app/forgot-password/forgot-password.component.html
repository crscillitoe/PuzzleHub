<div class="card form-card">
  <h1>Change Password</h1>
  <form name="forgotPasswordForm" id="forgotPasswordForm" action="#" method="get">
    <mat-form-field>
      <input
        matInput
        placeholder="New Password"
        [type]="hide1 ? 'password' : 'text'"
        name="password1"
        [(ngModel)]="password1"
        (ngModelChange)="canSubmit1()"
        required>
      <mat-icon matSuffix (click)="hide1 = !hide1">
        {{hide1 ? 'visibility_off' : 'visibility'}}
      </mat-icon>
      <mat-error *ngIf="errorMessage1 !== ''">
        {{errorMessage1}}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input
        matInput
        placeholder="Confirm Password"
        [type]="hide2 ? 'password' : 'text'"
        name="password2"
        [(ngModel)]="password2"
        (ngModelChange)="canSubmit2()"
        required>
      <mat-icon matSuffix (click)="hide2 = !hide2">
        {{hide2 ? 'visibility_off' : 'visibility'}}
      </mat-icon>
      <mat-error *ngIf="errorMessage2 !== ''">
        {{errorMessage2}}
      </mat-error>
    </mat-form-field>

    <ng-container *ngIf="errorMessage1 === '' && successMessage !== ''">
      <p style="color:green">{{successMessage}}</p>
    </ng-container>

    <button 
      mat-raised-button
      color="primary"
      *ngIf="errorMessage1 === '' && successMessage === ''"
      (click)="submitNewPassword()">
        Submit
    </button>
  </form>
</div>
