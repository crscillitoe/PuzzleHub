<nav
  [ngClass]="isElectron() ? 'draggable' : 'not-draggable'"
  class="navbar navbar-dark bg-dark"
>
  <button
    mat-button
    routerLink="/"
    routerLinkActive="active"
    class="clickable navbar-brand puzzle-hub-logo-button"
  >
    <img
      class="clickable"
      src="/assets/images/logos/headerLogo.svg"
      height="24"
      width="180"
    />
  </button>
  <div class="navbar-expand mr-auto">
    <div class="navbar-nav">
      <ng-container *ngIf="username != ''">
        <button
          mat-button
          [routerLink]="['/profile']"
          [queryParams]="{ user: username }"
          routerLinkActive="active"
          class="nav-item nav-link clickable"
        >
          <mat-icon>
            person
          </mat-icon>
          <div class="inline">
            Profile
          </div>
        </button>
        <ng-container *ngIf="isMainMenu()">
          <button
            mat-button
            (click)="openPuzzleRelay()"
            routerLinkActive="active"
            class="nav-item nav-link clickable"
          >
            <mat-icon>
              directions_run
            </mat-icon>
            <div class="inline">
              Puzzle Relay
            </div>
          </button>
        </ng-container>
        <ng-container *ngIf="isMainMenu()">
          <button
            mat-button
            (click)="openDailyChallenges()"
            routerLinkActive="active"
            class="nav-item nav-link clickable"
          >
            <mat-icon>
              today
            </mat-icon>
            <div class="inline">
              Daily Challenges
            </div>
          </button>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div class="container-flex col-account">
    <ng-container *ngIf="username != ''">
      <div class="container-flex-row user-box">
        <app-puzzler-icon
          id="header-icon"
          (click)="openIconPicker()"
          [puzzlerIconID]="puzzlerIconID"
          class="col puzzler-icon clickable"
        >
        </app-puzzler-icon>
        <div class="col user-info">
          <div class="username">{{ username }} - Level {{ level }}</div>
          <div class="xp-row">
            <app-xp-bar
              class="xp-bar"
              [color]="getColor()"
              [accentColor]="getAccentColor()"
              [className]="'header-xp-bar'"
              [progress]="progress"
            >
            </app-xp-bar>
          </div>
          <div class="level-xp">{{ xpToNextLevel }}/2000</div>
        </div>
        <div class="col sign-out">
          <button
            mat-button
            [ngClass]="isElectron() ? 'leftMore' : 'not-electron'"
            class="clickable button-font"
            (click)="signOut()"
          >
            Sign Out
            <i style="margin-left: 5px;" class="fa fa-sign-in clickable"></i>
          </button>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="isElectron()">
      <div class="traffic-lights">
        <button
          (click)="close()"
          class="clickable traffic-light traffic-light-close"
          id="close"
        ></button>
      </div>
    </ng-container>
  </div>
</nav>
